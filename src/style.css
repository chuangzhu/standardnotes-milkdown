/* Basic styles */

body {
  padding: 0;
  margin: 0;
}

.milkdown {
  min-height: 100vh;
  box-sizing: border-box;
  position: relative;
  background: var(--sn-stylekit-editor-background-color);
  font-family: var(--sn-stylekit-sans-serif-font);
  color: var(--sn-stylekit-editor-foreground-color);
  margin-left: auto;
  margin-right: auto;
  padding: 1rem;
}

.milkdown .editor {
  outline: none;
}

/* Override styles for basic HTML elements */

.milkdown h1 {
  font-size: 3rem !important;
  line-height: 3.125rem !important;
  font-weight: 400 !important;
  border-bottom: 1px solid var(--sn-stylekit-border-color) !important;
  padding-bottom: 0.3em !important;
  margin: 0.5em 0 !important;
}

.milkdown h2 {
  font-size: 2.125rem !important;
  line-height: 2.5rem !important;
  font-weight: 400 !important;
  border-bottom: 1px solid var(--sn-stylekit-border-color) !important;
  padding-bottom: 0.3em !important;
  margin: 0.5em 0 !important;
}

.milkdown h3 {
  font-size: 1.5rem !important;
  line-height: 2rem !important;
  font-weight: 400 !important;
  margin: 0.7em 0 !important;
}

.milkdown h4 {
  font-size: 1rem !important;
  line-height: 1.75rem !important;
  font-weight: 500 !important;
  margin: 0.8em 0 !important;
}

.milkdown h5 {
  line-height: 1.75rem !important;
  font-size: 14px !important;
  font-weight: 500 !important;
}

.milkdown a,
.milkdown p,
.milkdown ul,
.milkdown ol,
.milkdown td,
.milkdown pre,
.milkdown blockquote,
.milkdown .tableWrapper,
.milkdown .math-node,
.milkdown .code-fence,
.milkdown .diagram {
  line-height: 1.5rem !important;
  font-weight: 400 !important;
  margin-top: 0 !important;
  font-size: 16px !important;
  margin-bottom: 1em !important;
}
.milkdown li > div > p {
  margin: 0.5rem 0 !important;
}

.milkdown blockquote {
  border-left: 0.3rem solid var(--sn-stylekit-neutral-color) !important;
  color: var(--sn-stylekit-secondary-foreground-color) !important;
}

.milkdown .image:not(.system) {
  display: inline !important;
}
.milkdown .image:not(.system) > img {
  width: unset !important;
  height: unset !important;
  max-width: 100%;
}

.milkdown pre,
.milkdown code,
.milkdown .diagram > [data-type="diagram"] {
  font-family: var(--sn-stylekit-monospace-font);
}

.milkdown table {
  border-collapse: collapse;
  margin: 0 !important;
}

.milkdown tr:nth-child(odd) {
  background: var(--sn-stylekit-secondary-background-color);
}

.milkdown tr:nth-child(even) {
  background: var(--sn-stylekit-secondary-contrast-background-color);
}

.milkdown td,
.milkdown th {
  border: var(--sn-stylekit-secondary-border-color) 1px solid;
  padding: 6px 13px !important;
  height: unset !important;
}

.milkdown th,
.milkdown th > p {
  font-weight: 700 !important;
}

.milkdown hr {
  background-color: var(--sn-stylekit-secondary-border-color) !important;
  margin-top: 0.3em;
  margin-bottom: 1.3em;
}

/* Override styles for Milkdown components */

.milkdown .link {
  color: var(--sn-stylekit-info-color);
}

.milkdown .image.system,  /* Loading and failed */
.milkdown .slash-dropdown,
.milkdown .tooltip,
.milkdown .tooltip-input,
.milkdown .table-tooltip,
.milkdown .code-inline,
.milkdown .code-fence,
.milkdown .math-node.ProseMirror-selectednode {
  background: var(--sn-stylekit-contrast-background-color) !important;
  border: 1px solid var(--sn-stylekit-border-color) !important;
  border-radius: var(--sn-stylekit-general-border-radius) !important;
}

.milkdown .slash-dropdown-item.active {
  background: var(--sn-stylekit-secondary-contrast-background-color) !important;
}

/* Floating effect for tool tips */

.milkdown .tooltip,
.milkdown .tooltip-input,
.milkdown .table-tooltip {
  box-shadow: 0px 1px 1px var(--sn-stylekit-shadow-color),
    0px 2px 1px var(--sn-stylekit-shadow-color),
    0px 1px 3px var(--sn-stylekit-shadow-color);
}

.milkdown .code-fence_select,
.milkdown .code-fence_value {
  border: 1px solid var(--sn-stylekit-border-color) !important;
  border-radius: var(--sn-stylekit-general-border-radius) !important;
  background: var(--sn-stylekit-editor-background-color) !important;
}

.milkdown .empty-node {
  color: var(--sn-stylekit-neutral-color) !important;
  font-family: var(--sn-stylekit-monospace-font);
}

.milkdown .code-fence > pre {
  padding-bottom: 0 !important;
}

.milkdown .diagram[data-editing="true"] {
  border: 1px solid var(--sn-stylekit-border-color) !important;
  border-radius: var(--sn-stylekit-general-border-radius) !important;
}

.milkdown .diagram > [data-type="diagram"] {
  background: var(--sn-stylekit-contrast-background-color) !important;
}

/* copy from https://github.com/ProseMirror/prosemirror-view/blob/master/style/prosemirror.css */
.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror pre {
  white-space: pre-wrap;
}

.ProseMirror li {
  position: relative;
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}
.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}
.ProseMirror-hideselection {
  caret-color: transparent;
}

.ProseMirror-selectednode {
  outline: 2px solid var(--sn-stylekit-info-color);
}

/* Make sure li selections wrap around markers */

li.ProseMirror-selectednode {
  outline: none;
}

li.ProseMirror-selectednode:after {
  content: "";
  position: absolute;
  left: -32px;
  right: -2px;
  top: -2px;
  bottom: -2px;
  border: 2px solid var(--sn-stylekit-info-color);
  pointer-events: none;
}
